% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/evolution.R
\name{PSGE_EA}
\alias{PSGE_EA}
\title{Probabilistic Structured Grammatical Evolution (PSGE) Evolutionary Algorithm}
\description{
The main evolutionary algorithm class for PSGE. This class handles population
management, evolution, and optimization using PSGE principles.
}
\details{
Implements the complete evolutionary process described in the PSGE paper,
including population initialization, evaluation, selection, variation operators,
and probabilistic grammar updates.
}
\seealso{
\code{\link{generate_random_individual}} for individual creation details
}
\section{Public fields}{
\if{html}{\out{<div class="r6-fields">}}
\describe{
\item{\code{grammar}}{A PSGE_Grammar object containing the problem's grammar definition and
mapping mechanisms. This grammar defines the search space and constraints for
the evolutionary process.}

\item{\code{eval_func}}{Function that evaluates phenotypes and returns fitness values.
This function should take a phenotype as input and return a numeric fitness value,
where lower values indicate better solutions.}

\item{\code{params}}{List of algorithm parameters controlling the evolutionary process:
\describe{
\item{popsize}{Population size (default: 100)}
\item{generations}{Number of generations to evolve (default: 50)}
\item{elitism}{Number of best individuals to preserve (default: 10)}
\item{prob_crossover}{Probability of crossover (default: 0.9)}
\item{prob_mutation}{Probability of mutation (default: 0.1)}
\item{tournament_size}{Tournament selection size (default: 3)}
\item{learning_factor}{PCFG update rate (default: 0.01)}
\item{adaptive_lf}{Enable adaptive learning factor (default: FALSE)}
\item{adaptive_increment}{Learning factor increment (default: 0.0001)}
\item{seed}{Random seed for reproducibility (default: NULL)}
}}
}
\if{html}{\out{</div>}}
}
\section{Methods}{
\subsection{Public methods}{
\itemize{
\item \href{#method-PSGE_EA-new}{\code{PSGE_EA$new()}}
\item \href{#method-PSGE_EA-generate_random_individual}{\code{PSGE_EA$generate_random_individual()}}
\item \href{#method-PSGE_EA-make_initial_population}{\code{PSGE_EA$make_initial_population()}}
\item \href{#method-PSGE_EA-evaluate}{\code{PSGE_EA$evaluate()}}
\item \href{#method-PSGE_EA-tournament_selection}{\code{PSGE_EA$tournament_selection()}}
\item \href{#method-PSGE_EA-crossover}{\code{PSGE_EA$crossover()}}
\item \href{#method-PSGE_EA-mutate}{\code{PSGE_EA$mutate()}}
\item \href{#method-PSGE_EA-update_pcfg}{\code{PSGE_EA$update_pcfg()}}
\item \href{#method-PSGE_EA-run_evolution}{\code{PSGE_EA$run_evolution()}}
\item \href{#method-PSGE_EA-clone}{\code{PSGE_EA$clone()}}
}
}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-PSGE_EA-new"></a>}}
\if{latex}{\out{\hypertarget{method-PSGE_EA-new}{}}}
\subsection{Method \code{new()}}{
Creates a new evolutionary algorithm instance with specified grammar and evaluation function.
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{PSGE_EA$new(grammar, eval_func, params = list())}\if{html}{\out{</div>}}
}

\subsection{Arguments}{
\if{html}{\out{<div class="arguments">}}
\describe{
\item{\code{grammar}}{A PSGE_Grammar object containing the problem grammar}

\item{\code{eval_func}}{Function that evaluates phenotypes and returns fitness values}

\item{\code{params}}{List of algorithm parameters. Available parameters:
\describe{
\item{popsize}{Population size (default: 100)}
\item{generations}{Number of generations to evolve (default: 50)}
\item{elitism}{Number of best individuals to preserve (default: 10)}
\item{prob_crossover}{Probability of crossover (default: 0.9)}
\item{prob_mutation}{Probability of mutation (default: 0.1)}
\item{tournament_size}{Tournament selection size (default: 3)}
\item{learning_factor}{PCFG update rate (default: 0.01)}
\item{adaptive_lf}{Enable adaptive learning factor (default: FALSE)}
\item{adaptive_increment}{Learning factor increment (default: 0.0001)}
\item{seed}{Random seed for reproducibility (default: NULL)}
}}
}
\if{html}{\out{</div>}}
}
\subsection{Returns}{
A new PSGE_EA instance
}
}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-PSGE_EA-generate_random_individual"></a>}}
\if{latex}{\out{\hypertarget{method-PSGE_EA-generate_random_individual}{}}}
\subsection{Method \code{generate_random_individual()}}{
Creates a new random individual following PSGE encoding.
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{PSGE_EA$generate_random_individual()}\if{html}{\out{</div>}}
}

\subsection{Details}{
Generates a valid individual by:
\enumerate{
\item Creating empty lists for each non-terminal
\item Recursively expanding from start symbol
\item Using probabilistic rule selection
\item Respecting maximum depth constraints
}
}

\subsection{Returns}{
List containing:
\describe{
\item{genotype}{Generated genotype structure}
\item{fitness}{NA (not yet evaluated)}
\item{tree_depth}{Depth of generated tree}
}
}
}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-PSGE_EA-make_initial_population"></a>}}
\if{latex}{\out{\hypertarget{method-PSGE_EA-make_initial_population}{}}}
\subsection{Method \code{make_initial_population()}}{
Generates the initial population for the evolutionary algorithm by creating
multiple random individuals according to the PSGE encoding scheme.
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{PSGE_EA$make_initial_population()}\if{html}{\out{</div>}}
}

\subsection{Details}{
The initialization process ensures population diversity by:
\enumerate{
\item Creating independent random individuals
\item Using probabilistic rule selection from uniform distributions
\item Respecting maximum initialization depth constraints
\item Maintaining valid grammatical structures
}

The population size is determined by the 'popsize' parameter specified
during PSGE_EA initialization.
}

\subsection{Returns}{
List of individuals, where each individual contains:
\describe{
\item{genotype}{The encoded solution structure}
\item{fitness}{NA (not yet evaluated)}
\item{tree_depth}{Depth of the derivation tree}
}
}
}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-PSGE_EA-evaluate"></a>}}
\if{latex}{\out{\hypertarget{method-PSGE_EA-evaluate}{}}}
\subsection{Method \code{evaluate()}}{
Maps an individual's genotype to its phenotype and evaluates its fitness
using the provided evaluation function.
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{PSGE_EA$evaluate(ind)}\if{html}{\out{</div>}}
}

\subsection{Arguments}{
\if{html}{\out{<div class="arguments">}}
\describe{
\item{\code{ind}}{List containing the individual to evaluate with components:
\describe{
\item{genotype}{The encoded solution}
\item{fitness}{Current fitness (NA for new individuals)}
\item{tree_depth}{Depth of derivation tree}
}}
}
\if{html}{\out{</div>}}
}
\subsection{Details}{
The evaluation process consists of:
\enumerate{
\item Mapping genotype to phenotype using PSGE's probabilistic mapping
\item Applying the user-provided evaluation function
\item Storing both the phenotype and fitness value
\item Preserving the mapping positions for future reference
}
}

\subsection{Returns}{
List containing the evaluated individual with updated components:
\describe{
\item{phenotype}{The decoded solution}
\item{fitness}{The calculated fitness value}
\item{mapping_values}{Vector of mapping positions}
}
}
}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-PSGE_EA-tournament_selection"></a>}}
\if{latex}{\out{\hypertarget{method-PSGE_EA-tournament_selection}{}}}
\subsection{Method \code{tournament_selection()}}{
Selects an individual from the population using tournament selection,
which provides selection pressure while maintaining diversity.
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{PSGE_EA$tournament_selection(population)}\if{html}{\out{</div>}}
}

\subsection{Arguments}{
\if{html}{\out{<div class="arguments">}}
\describe{
\item{\code{population}}{List of individuals to select from}
}
\if{html}{\out{</div>}}
}
\subsection{Details}{
Tournament selection works by:
\enumerate{
\item Randomly selecting tournament_size individuals from the population
\item Comparing their fitness values
\item Returning the individual with the best fitness
}

The selection pressure can be adjusted through the tournament_size parameter.
Larger tournaments increase selection pressure towards better solutions.
}

\subsection{Returns}{
The selected individual (the winner of the tournament)
}
}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-PSGE_EA-crossover"></a>}}
\if{latex}{\out{\hypertarget{method-PSGE_EA-crossover}{}}}
\subsection{Method \code{crossover()}}{
Performs crossover between two parent individuals to create offspring,
implementing the specialized PSGE crossover operator that maintains
grammatical validity.
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{PSGE_EA$crossover(p1, p2)}\if{html}{\out{</div>}}
}

\subsection{Arguments}{
\if{html}{\out{<div class="arguments">}}
\describe{
\item{\code{p1}}{First parent individual}

\item{\code{p2}}{Second parent individual}
}
\if{html}{\out{</div>}}
}
\subsection{Details}{
The crossover operation:
\enumerate{
\item Creates a binary mask for each non-terminal
\item Inherits complete non-terminal lists from either parent based on mask
\item Maintains grammatical correctness through list-level exchange
\item Preserves the probabilistic nature of the encoding
}
}

\subsection{Returns}{
A new offspring individual combining genetic material from both parents
}
}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-PSGE_EA-mutate"></a>}}
\if{latex}{\out{\hypertarget{method-PSGE_EA-mutate}{}}}
\subsection{Method \code{mutate()}}{
Applies Gaussian mutation to an individual's genotype, modifying probabilities
while maintaining valid probability distributions.
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{PSGE_EA$mutate(ind)}\if{html}{\out{</div>}}
}

\subsection{Arguments}{
\if{html}{\out{<div class="arguments">}}
\describe{
\item{\code{ind}}{Individual to mutate}
}
\if{html}{\out{</div>}}
}
\subsection{Details}{
The mutation process:
\enumerate{
\item Iterates through each non-terminal's list
\item Applies Gaussian mutation with specified probability
\item Ensures mutated values remain in \link{0,1} interval
\item Updates expansion rules based on new probabilities
\item Maintains grammatical validity
}
}

\subsection{Returns}{
The mutated individual with updated genotype and reset fitness
}
}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-PSGE_EA-update_pcfg"></a>}}
\if{latex}{\out{\hypertarget{method-PSGE_EA-update_pcfg}{}}}
\subsection{Method \code{update_pcfg()}}{
Updates the Probabilistic Context-Free Grammar probabilities based on
successful individuals, implementing PSGE's learning mechanism.
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{PSGE_EA$update_pcfg(best_individual, learning_factor)}\if{html}{\out{</div>}}
}

\subsection{Arguments}{
\if{html}{\out{<div class="arguments">}}
\describe{
\item{\code{best_individual}}{The individual used to update probabilities}

\item{\code{learning_factor}}{Rate of probability adaptation}
}
\if{html}{\out{</div>}}
}
\subsection{Details}{
The update process:
\enumerate{
\item Counts rule usage in the best individual
\item Increases probabilities of successful rules
\item Decreases probabilities of unused rules
\item Normalizes probabilities to maintain valid distributions
\item Applies learning factor to control adaptation rate
}
}

\subsection{Returns}{
None (updates PCFG probabilities in place)
}
}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-PSGE_EA-run_evolution"></a>}}
\if{latex}{\out{\hypertarget{method-PSGE_EA-run_evolution}{}}}
\subsection{Method \code{run_evolution()}}{
Executes the complete evolutionary process to find solutions.
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{PSGE_EA$run_evolution()}\if{html}{\out{</div>}}
}

\subsection{Details}{
This method performs the following steps:
\enumerate{
\item Initializes random population
\item Evaluates individuals using provided fitness function
\item Performs generational evolution with selection and variation
\item Updates PCFG probabilities based on best solutions
\item Returns best solution found
}
}

\subsection{Returns}{
List containing best solution found with components:
\describe{
\item{genotype}{The encoded solution}
\item{phenotype}{The decoded solution}
\item{fitness}{The solution's fitness value}
\item{tree_depth}{Depth of the solution's derivation tree}
}
}
}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-PSGE_EA-clone"></a>}}
\if{latex}{\out{\hypertarget{method-PSGE_EA-clone}{}}}
\subsection{Method \code{clone()}}{
The objects of this class are cloneable with this method.
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{PSGE_EA$clone(deep = FALSE)}\if{html}{\out{</div>}}
}

\subsection{Arguments}{
\if{html}{\out{<div class="arguments">}}
\describe{
\item{\code{deep}}{Whether to make a deep clone.}
}
\if{html}{\out{</div>}}
}
}
}
